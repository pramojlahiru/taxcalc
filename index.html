<html lang="en">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WWH6B94WQK"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-WWH6B94WQK');
    </script>

    <meta charset="utf-8">
    <meta http-equiv="Content-Language" content="en">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Tax Calculator</title>

    <link href='https://fonts.googleapis.com/css?family=Oswald:400,300,700' rel='stylesheet' type='text/css'>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Maven+Pro&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <script src="https://kit.fontawesome.com/a376f17586.js" crossorigin="anonymous"></script>

    <link href="https://fonts.googleapis.com/css?family=Lato&amp;display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400&amp;display=swap" rel="stylesheet">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.1/jquery.min.js" type="text/javascript"></script>

    <script id="webpushr-jssdk" async="" src="https://cdn.webpushr.com/app.min.js"></script>

    <link rel = "icon" href="https://coinpanda.io/wp-content/uploads/2020/10/blue-tax-icon.svg" type = "image/x-icon">

    <meta property="og:title" content="Tax Calculator SL">
    <meta property="og:description" content="Calculate PAYE Tax w.e.f Jan 2023">
    <meta property="og:image" content="https://static.businessworld.in/article/article_extra_large_image/1567667341_sPMpnf_tax_shutterstock_470.jpg">
    <meta property="og:url" content="https://taxcalculatorsl.netlify.app/">
</head>

<body style="background-image: url('/assets/images/background-light-03-3.jpg'); background-size: 1800px 2000px;">
    <div id="wrapper_main">

        <div id="site_content" style="min-height: 402px;">

            <script type="text/javascript">

                $(document).ready(function () {
                    $(".divider-bar").hide();
                    $("#calcB").hide();
                    $("#incomeAmount").focus();
                    $("#cal").submit(function () {
                        return false;
                    });

                    $("#incomeAmount").on("change keyup", function () {
                        if ($("#autoCalc").is(":checked")) {
                            calculateTax();
                        }
                    });

                    $("#incomeAmount").on("keyup", function() {
                        var input = $(this);
                        if (input.val() == "") {
                            $('#clearB').prop('disabled', true);
                            $('#calcB').prop('disabled', true);
                            $("#result").html('');
                            clearSummary()
                            $(".divider-bar").hide();
                        } else {
                            $('#clearB').prop('disabled', false);
                            $('#calcB').prop('disabled', false);
                        }
                    });

                    $("#clearB").on("click", function() {
                        var input = $("#incomeAmount").val("");
                        $(this).prop('disabled', true);
                        $("#calcB").prop('disabled', true);
                        $("#result").html('');
                        clearSummary();
                        $(".divider-bar").hide();
                        $("#incomeAmount").focus();
                    });

                    $("#autoCalc").on("change", function() {
                        if ($(this).is(":checked")) {
                            $("#calcB").hide();
                            calculateTax();
                        } else {
                            $("#calcB").show();
                        }
                    });

                    $("#calcB").on("click", function() {
                        calculateTax();
                    });

                    // remove leading zeros and add thousand separators
                    $('input').on('change, keyup', function() {
                        var currentInput = $(this).val();
                        var fixedInput = currentInput.replace(/^0+/, '').replace(/[A-Za-z!@#$%^&*(). ]/g, '');
                        $(this).val(fixedInput);
                    });

                    // adding thousand separators to input text
                    $("#incomeAmount").on("keyup", function () {
                        var num = $(this).val().replace(/,/gi, "");
                        // var num2 = num.split(/(?=(?:\d{3})+$)/).join(",");
                        var num2 = numberWithCommas(num);
                        $("#incomeAmount").val(num2);
                        if ($("#autoCalc").is(":checked")) {
                            calculateTax();
                        }
                    });

                });

                // adding thousand separators to static texts
                function numberWithCommas(x) {
                    return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                }

                function clearSummary(isNoTax) {
                    if (isNoTax) {
                        $("#summary2").text('No Tax');
                        $("#summary2").css('color', 'green');
                    } else {
                        $("#summary2").text("");
                    }
                    $("#summary1").text("");
                    $("#summary3").text("");
                    $("#summary4").text("");
                }

                function calculateTax() {
                    var annualTax = 0;
                    var monthlyIncome = $("#incomeAmount").val().split(",").join("");
                    var yearlyIncome = monthlyIncome * 12;
                    if (yearlyIncome > 1200000) {
                        $("#result").html('<table class="table table-hover border border-info" style="width:100%; max-width: 680px; text-align:right; display: inline-block;"><thead style="text-align:center;" class="thead-dark"><tr><th width="32%">Annual Salary (LKR)</th><th width="30%">Monthly Salary (LKR)</th><th width="15%">Rate (%)</th><th>Monthly Tax (LKR)</th></tr></thead><tbody id="tb"></tbody></table>');
                        if (yearlyIncome >= 3700000) {
                            var taxOfCurrentBlock = (yearlyIncome - 3700000) * 36 / 100;
                            $("#tb").prepend('<tr><td>3,700,000 to ' + numberWithCommas(yearlyIncome) +'</td><td>308,333 to ' + numberWithCommas((yearlyIncome / 12).toFixed(0)) +'</td><td>36</td><td>' + numberWithCommas((taxOfCurrentBlock / 12).toFixed(2).toLocaleString("en")) + '</td></tr>');
                            annualTax += taxOfCurrentBlock;
                        }
                        if (yearlyIncome > 3200000) {
                            var upperLimit = (yearlyIncome > 3700000) ? 3700000 : yearlyIncome;
                            var taxOfCurrentBlock = (upperLimit - 3200000) * 30 / 100;
                            $("#tb").prepend('<tr><td>3,200,000 to ' + numberWithCommas(upperLimit.toFixed(0)) + '</td><td>266,667 to ' + numberWithCommas((upperLimit / 12).toFixed(0)) + '</td><td>30</td><td>' + numberWithCommas((taxOfCurrentBlock / 12).toFixed(2).toLocaleString("en")) + '</td></tr>');
                            annualTax += taxOfCurrentBlock;
                        }
                        if (yearlyIncome > 2700000) {
                            var upperLimit = (yearlyIncome > 3200000) ? 3200000 : yearlyIncome;
                            var taxOfCurrentBlock = (upperLimit - 2700000) * 24 / 100;
                            $("#tb").prepend('<tr><td>2,700,000 to ' + numberWithCommas(upperLimit.toFixed(0)) + '</td><td>225,000 to ' + numberWithCommas((upperLimit / 12).toFixed(0)) + '</td><td>24</td><td>' + numberWithCommas((taxOfCurrentBlock / 12).toFixed(2).toLocaleString("en")) + '</td></tr>');
                            annualTax += taxOfCurrentBlock;
                        }
                        if (yearlyIncome > 2200000) {
                            var upperLimit = (yearlyIncome > 2700000) ? 2700000 : yearlyIncome;
                            var taxOfCurrentBlock = (upperLimit - 2200000) * 18 / 100;
                            $("#tb").prepend('<tr><td>2,200,000 to ' + numberWithCommas(upperLimit.toFixed(0)) + '</td><td>183,333 to ' + numberWithCommas((upperLimit / 12).toFixed(0)) + '</td><td>18</td><td>' + numberWithCommas((taxOfCurrentBlock / 12).toFixed(2).toLocaleString("en")) + '</td></tr>');
                            annualTax += taxOfCurrentBlock;
                        }
                        if (yearlyIncome > 1700000) {
                            var upperLimit = (yearlyIncome > 2200000) ? 2200000 : yearlyIncome;
                            var taxOfCurrentBlock = (upperLimit - 1700000) * 12 / 100;
                            $("#tb").prepend('<tr><td>1,700,000 to ' + numberWithCommas(upperLimit.toFixed(0)) + '</td><td>141,667 to ' + numberWithCommas((upperLimit / 12).toFixed(0)) + '</td><td>12</td><td>' + numberWithCommas((taxOfCurrentBlock / 12).toFixed(2).toLocaleString("en")) + '</td></tr>');
                            annualTax += taxOfCurrentBlock;
                        }
                        if (yearlyIncome > 1200000) {
                            var upperLimit = (yearlyIncome > 1700000) ? 1700000 : yearlyIncome;
                            var taxOfCurrentBlock = (upperLimit - 1200000) * 6 / 100;
                            $("#tb").prepend('<tr><td>1,200,000 to ' + numberWithCommas(upperLimit.toFixed(0)) + '</td><td>100,000 to ' + numberWithCommas((upperLimit / 12).toFixed(0)) + '</td><td>6</td><td>' + numberWithCommas((taxOfCurrentBlock / 12).toFixed(2).toLocaleString("en")) + '</td></tr>');
                            annualTax += taxOfCurrentBlock;
                        }
                        if (yearlyIncome > 0) {
                            var taxOfCurrentBlock = 0;
                            $("#tb").prepend('<tr><td>0 to 1,200,000</td><td>0 to 100,000</td><td>-</td><td>-</td></tr>');
                            annualTax += taxOfCurrentBlock;
                        }
                        $("#tb").append('<tr><td colspan="2"></td><td class="table-info"><strong>Total</strong></td><td class="table-info">' + numberWithCommas((annualTax / 12).toFixed(2).toLocaleString("en")) + '</td></tr>');
                        $("#summary1").text('Monthly Tax Amount for ' + numberWithCommas(monthlyIncome) + ' LKR is');
                        $("#summary2").text(numberWithCommas((annualTax / 12).toFixed(2).toLocaleString("en")));
                        $("#summary3").text('Remaining amount on your hand - ' + numberWithCommas((monthlyIncome - (annualTax / 12)).toFixed(2).toLocaleString("en")) + ' LKR');
                        $(".divider-bar").show();
                        $("#summary2").css('color', 'crimson');
                        $("#summary4").text('Yearly Tax Amount - ' + numberWithCommas(annualTax));
                    } else {
                        $("#result").html("");
                        clearSummary(true);
                        $(".divider-bar").hide();
                    }
                }

            </script>

            <style>
                #tb td {
                    text-align: right;
                }

                input::-webkit-outer-spin-button,
                input::-webkit-inner-spin-button {
                    -webkit-appearance: none;
                    margin: 0;
                }
            </style>


            <div class="container" style="font-family:Oswald; line-height: 1.5em; font-size:18px;">
                <div class="row">
                    <div class="col-sm-12 text-center">
                        <h1 class="topic_page" style="margin-top: 5%; margin-bottom: 3%;">Tax Calculator Sri Lanka (2023)</h1>
                        <form id="cal">
                            <div class="row justify-content-center" style="align-items: center;">
                                <div class="col-xs-12">Enter your monthly income (LKR) <i class="fa-solid fa-sack-dollar"></i></div>
                                <div class="col-md-3 col-sm-4">
                                    <input type="text" name="incomeAmount" id="incomeAmount" value="" maxlength="15"
                                        class="required amount form_textfield form-control" style="text-align: center; font-size:24px;"
                                        autocomplete="off">
                                </div>
                            </div>
                            <div style="margin-top: 8px">
                                <input type="checkbox" id="autoCalc" checked><span class="col-md-1">Calculate when type</span>
                            </div>
                            <div class="row" style="display: inline-flex;">
                                <div class="col-xs-12 mt-3 mr-2"><button type="button" id="calcB" class="btn btn-light" disabled>Calculate</button></div>
                                <div class="col-xs-12 mt-3"><button type="button" id="clearB" class="btn btn-light" disabled>Clear</button></div>
                            </div>
                        </form>
                        <div class="divider-bar"><hr class="hr hr-blurry"/></div>
                        <div id="summary1"></div>
                        <div id="summary2" class="font-weight-bolder mb-6" style="margin-top: 20px;margin-bottom: 20px;font-size: 30px;"></div>
<!--                        <div class="divider-bar"><hr class="hr hr-blurry"/></div>-->
                        <div id="summary3" style="margin-bottom: 20px;"></div>
                        <div class="divider-bar"><hr class="hr hr-blurry"/></div>
                        <div id="summary4" style="margin-bottom: 20px;"></div>
                        <div class="divider-bar"><hr class="hr hr-blurry"/></div>
                        <div class="divider-bar" style="margin-bottom: 20px;" data-bs-toggle="collapse" data-bs-target="#breakdownTable" aria-expanded="false" aria-controls="breakdownTable">
                            <i class="fa-regular fa-hand-point-down"></i>
                            <i class="fa-regular fa-hand-point-down"></i>
                            <i class="fa-regular fa-hand-point-down"></i>&nbsp;&nbsp;&nbsp;<a href="#" id="showHideBreakdown"><u>&nbsp;Show / Hide Tax Breakdown&nbsp;</u></a>&nbsp;&nbsp;&nbsp;<i class="fa-regular fa-hand-point-down"></i>
                            <i class="fa-regular fa-hand-point-down"></i>
                            <i class="fa-regular fa-hand-point-down"></i>
                        </div>
                        <div class="collapse show" id="breakdownTable">
                            <div id="result" class="txt-fs-12 text-center table-responsive" style="font-family: 'Maven Pro', sans-serif;"></div>
                        </div>
                    </div>
                </div>
                <div style="text-align: center; vertical-align: bottom; font-size:10px; color: darkgray">Version 1.0.0</div>
                <div style="text-align: center; vertical-align: bottom; font-size:10px; color: darkgray">Â© 2023 Tax Calc SL</div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.2.3/js/bootstrap.min.js"></script>

</body>
</html>